@using HomeBook.Frontend.Abstractions.Contracts
@using HomeBook.Frontend.Core.Models.Setup
@using HomeBook.Frontend.Properties

@inject ILocalizationProvider Loc

<MudDialog>

    <TitleContent>
        @Loc[nameof(LocalizationStrings.UiLicenseDialog_Title)]
    </TitleContent>

    <DialogContent>

        <MudExpansionPanels Class="my-5">

            @foreach (LicenseViewModel license in Licenses)
            {
                <MudExpansionPanel Text="@license.Name.Replace("__", " ")"
                                   Class="">

                    <article>
                        @((MarkupString)license.HtmlContent)
                    </article>

                </MudExpansionPanel>
            }

        </MudExpansionPanels>

    </DialogContent>

    <DialogActions>

        <MudButton Color="Color.Default"
                   Variant="Variant.Filled"
                   Class="mt-3"
                   StartIcon="@Icons.Material.TwoTone.Close"
                   OnClick="async () => await CancelAsync()">
            @Loc[nameof(LocalizationStrings.UiLicenseDialog_Close)]
        </MudButton>

        @if (ShowAcceptButton)
        {
            <MudButton Color="Color.Primary"
                       Variant="Variant.Filled"
                       Class="ms-3 mt-3"
                       StartIcon="@Icons.Material.TwoTone.Check"
                       OnClick="async () => await AcceptLicensesAsync()">
                Accept and Continue
                @Loc[nameof(LocalizationStrings.UiLicenseDialog_AcceptContinue)]
            </MudButton>
        }

    </DialogActions>

</MudDialog>

@using HomeBook.Frontend.Abstractions.Contracts
@using HomeBook.Frontend.Core.Models.Widgets
@using HomeBook.Frontend.Modules.Abstractions

@inject IWidgetFactory WidgetFactory

<UiWidgetList>

    <MudDropZone T="WidgetConfiguration" Identifier="Enterprise" DraggingClass="mud-alert-text-info"
                 ItemDraggingClass="mud-alert-text-info"
                 Class="rounded-lg border-2 border-dashed mud-border-lines-default pa-6 ma-8"
                 CanDrop="@((item) => item.Team == "BLUE")">
        <MudText Typo="Typo.h6" Class="mb-4">USS Enterprise</MudText>
    </MudDropZone>


    @foreach (WidgetConfiguration widgetConfiguration in _availableWidgets)
    {
        <UiWidgetContainer Size="@widgetConfiguration.Size">
            <DynamicComponent Type="widgetConfiguration.WidgetType"
                              Parameters="widgetConfiguration.Parameters"/>
        </UiWidgetContainer>
    }

</UiWidgetList>

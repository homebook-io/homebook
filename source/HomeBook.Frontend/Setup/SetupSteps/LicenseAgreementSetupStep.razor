@using HomeBook.Client
@using HomeBook.Frontend.Abstractions.Contracts
@using HomeBook.Frontend.Models.Setup

@inject ISetupService SetupService
@inject BackendClient BackendClient

<MudExpansionPanels>

    <MudExpansionPanel Text="License Agreement"
                       MaxHeight="500"
                       Expanded="true"
                       Class="frosted-b3 mud-elevation-6">
        @foreach (LicenseViewModel license in _licenses)
        {
            <MudCard Class="frosted-b3 mud-elevation-6 mt-5">

                <MudCardHeader>
                    <CardHeaderContent>
                        <MudText Typo="Typo.h6">@license.Name.Replace("__", " ")</MudText>
                    </CardHeaderContent>
                </MudCardHeader>

                <MudCardContent>
                    <article>
                        @((MarkupString)license.HtmlContent)
                    </article>
                </MudCardContent>

            </MudCard>
        }
    </MudExpansionPanel>

</MudExpansionPanels>

<MudButton Color="Color.Primary"
           Variant="Variant.Filled"
           Class="mt-3"
           OnClick="async () => await AcceptLicensesAsync()">
    Accept and Continue
</MudButton>
